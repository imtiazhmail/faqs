<!-- Best practice is to add this css in the style.css or any similar file -->

{% stylesheet %}
  .faq-container {
    max-width: 800px;
    margin: 50px auto;
    padding: 20px;
    font-family: 'Arial, sans-serif';
    color: #333;
  }

  .faq-container h1 {
    text-align: center;
    margin-bottom: 40px;
    color: #2c3e50;
  }

  /* Style for each FAQ item */
  .faq-item {
    border-bottom: 1px solid #ddd;
    overflow: hidden;
  }

  /* Style for the question buttons */
  .faq-question {
    background-color: #ecf0f1;
    width: 100%;
    padding: 20px;
    text-align: left;
    font-size: 18px;
    border: none;
    outline: none;
    cursor: pointer;
    position: relative;
    transition: background-color 0.3s ease;
  }

  .faq-question:hover {
    background-color: #d0d7de;
  }

  /* Style for the arrow icon */
  .faq-question .arrow {
    position: absolute;
    right: 20px;
    transition: transform 0.3s ease; /* Smooth rotation transition */
  }

  .faq-question.active .arrow {
    transform: rotate(180deg);
  }

  /* Style for the answer sections */
  .faq-answer {
    max-height: 0; /* Initially hide the answer */
    overflow: hidden;
    transition: max-height 0.3s ease;
    background-color: #fff;
  }

  /* Style for the answer text */
  .faq-answer p {
    padding: 20px;
    font-size: 16px;
    line-height: 1.5;
    color: #555;
  }
{% endstylesheet %}

{% comment %} Start of the code {% endcomment %}

{% schema %}
{
  "name": "FAQ Accordion",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Heading",
      "default": "Frequently Asked Questions"
    }
  ],
  "blocks": [
    {
      "type": "question",
      "name": "Question",
      "settings": [
        {
          "type": "text",
          "id": "question",
          "label": "Question",
          "default": "What is your return policy?"
        },
        {
          "type": "richtext",
          "id": "answer",
          "label": "Answer",
          "default": "<p>You can return any item within 30 days of purchase for a full refund.</p>"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "FAQ Accordion",
      "category": "Text",
      "blocks": [
        {
          "type": "question",
          "settings": {
            "question": "How do I track my order?",
            "answer": "<p>You'll receive a tracking email after shipment.</p>"
          }
        },
        {
          "type": "question",
          "settings": {
            "question": "What payment methods do you accept?",
            "answer": "<p>We accept credit cards, PayPal, and Shop Pay.</p>"
          }
        }
      ]
    }
  ]
}
{% endschema %}

<div class="faq-container">
  <h1>{{ section.settings.title }}</h1>

  {% for block in section.blocks %}
    <div class="faq-item">
      <button class="faq-question">
        {{ block.settings.question }}
        <span class="arrow">&#9660;</span>
      </button>
      <div class="faq-answer">
        {{ block.settings.answer }}
      </div>
    </div>
  {% endfor %}
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const questions = document.querySelectorAll('.faq-question');
  questions.forEach(btn => {
    btn.addEventListener('click', function() {
      const answer = this.nextElementSibling;
      answer.style.display = (answer.style.display === 'block') ? 'none' : 'block';
      // Optional: rotate arrow
      const arrow = this.querySelector('.arrow');
      arrow.style.transform = (answer.style.display === 'block') ? 'rotate(180deg)' : 'rotate(0deg)';
    });
  });
});
</script>

